
import {useTranslation} from '@@/layout/system/language/useTranslation.tsx';
import gsap from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";
import {useEffect, useRef, useState} from "react";

gsap.registerPlugin(ScrollTrigger);

export default function Container() {
    const translations = useTranslation();

    const elementRef = useRef(null);

    const questionTitles = [
        "什么是霸凌？",
        "我们如何在学校中预防霸凌行为？",
        "暴力有哪些不同的形式？",
        "为什么谈论暴力问题如此重要？",
        "我们如何支持暴力受害者？",
        "如何识别校园暴力的早期迹象？",
        "如何帮助那些被忽视的暴力受害者？",
        "暴力对家庭的影响有哪些？",
        "如何提高公众对家庭暴力的认识？",
        "暴力对心理健康的长远影响是什么？",
        "什么是心理暴力？",
        "如何应对心理暴力？",
        "怎样的教育能有效预防暴力行为？",
        "暴力对青少年的影响是什么？",
        "如何在学校内创建一个支持性的环境？",
        "社会对暴力问题的态度发生了哪些变化？",
        "反暴力教育需要包括哪些重要内容？",
        "如何减少社会暴力的发生？",
        "网络暴力的形式有哪些？",
        "如何应对网络暴力？",
        "暴力和社会不平等之间有什么关系？",
        "父母如何教导孩子避免暴力行为？",
        "学校如何处理暴力事件？",
        "青少年如何避免成为暴力的受害者或施暴者？",
        "如何通过法律手段保护暴力受害者？",
        "家庭暴力的受害者如何寻求帮助？",
        "暴力问题是否与文化背景有关？",
        "暴力行为的根源是什么？",
        "如何开展有效的暴力干预项目？",
        "社会如何支持暴力受害者重建生活？",
        "为什么暴力问题在一些地区更为严重？",
        "性别暴力和性别不平等有什么关系？",
        "如何提高女性对暴力的防范意识？",
        "暴力如何影响孩子的成长与发展？",
        "如何通过媒体宣传反暴力教育？",
        "职场暴力的表现形式有哪些？",
        "如何减少职场暴力事件的发生？",
        "教育如何改变青少年的暴力行为？",
        "如何识别并帮助那些遭受家庭暴力的儿童？",
        "如何为暴力受害者提供心理支持？",
        "为何暴力问题需要全社会共同关注？",
        "如何通过政策减少暴力事件的发生？",
        "如何通过社区活动增强暴力防范意识？",
        "暴力与吸毒和酗酒有什么联系？",
        "如何减少青少年犯罪与暴力行为的发生？",
        "如何在青少年中推广反暴力教育？",
        "什么是反暴力教育的核心目标？",
        "如何评估反暴力教育的效果？",
        "反暴力教育的成功案例有哪些？",
        "如何处理学校中的暴力事件？",
        "在反暴力教育中，家长应发挥什么作用？",
        "如何增强社会对家庭暴力的法律意识？",
        "反暴力教育的课程应包括哪些内容？",
        "如何提高社区对暴力事件的响应能力？",
        "如何帮助暴力受害者恢复自信？",
        "如何帮助儿童从家庭暴力中恢复？",
        "反暴力教育如何帮助青少年避免暴力行为？",
        "如何通过学校教育减少暴力事件？",
        "如何防止校园暴力的蔓延？",
        "父母如何教育孩子不使用暴力？",
        "如何在家庭中培养尊重和理解？",
        "学校如何培养学生的非暴力沟通技巧？",
        "在暴力预防中，学校的角色是什么？",
        "社会应如何帮助暴力受害者重新融入社会？",
        "如何加强网络暴力的法律约束力？",
        "网络暴力的应对机制是什么？",
        "如何通过教育提高人们对暴力的敏感度？",
        "如何让孩子从小接受反暴力教育？",
        "反暴力教育应包括哪些实用技能？",
        "社会如何支持那些从暴力中恢复的成年人？",
        "如何通过游戏教育儿童识别暴力？",
        "如何帮助青少年理解并避免暴力？",
        "为什么暴力事件在家庭中常常被忽视？",
        "暴力行为的改变是否需要长期的心理治疗？",
        "如何通过教育预防青少年的暴力倾向？",
        "暴力受害者应如何寻求法律保护？",
        "在处理暴力事件时，学校应如何与家庭合作？",
        "如何通过社区组织减少暴力行为？",
        "家庭暴力对孩子的影响是什么？",
        "如何通过媒体减少暴力行为的美化？",
        "如何教育学生不模仿暴力行为？",
        "青少年暴力的常见表现有哪些？",
        "如何帮助家庭暴力的加害者改正行为？",
        "如何防止暴力行为在家庭中代际传递？",
        "如何应对暴力事件带来的情感创伤？",
        "暴力行为如何影响社会的整体稳定？",
        "如何改变公众对暴力的态度？",
        "如何评估暴力预防计划的效果？",
        "如何通过教育增加对暴力问题的认知？",
        "暴力行为与情绪管理有什么关系？",
        "如何通过学校活动增强反暴力的意识？",
        "暴力行为的最初表现是什么？",
        "如何有效监测暴力行为的发生？",
        "如何通过教育培养社会责任感？",
        "学校如何成为反暴力教育的支持平台？",
        "如何在学校中创建一个反暴力的文化？",
        "如何通过反暴力教育帮助学生更好地应对冲突？",
        "暴力与性别平等之间的关系是什么？",
        "如何通过教育解决暴力问题的根本原因？",
        "暴力行为与文化传统有何关系？",
        "暴力的社会成本是多少？",
        "如何通过法制建设减少暴力事件？",
        "如何减少职场中的暴力行为？",
        "如何识别暴力的早期迹象？",
        "如何在社区层面组织反暴力活动？",
        "反暴力教育如何推动社会进步？",
        "如何培养儿童非暴力的社交方式？",
        "反暴力教育对青少年的长期影响是什么？",
        "如何帮助青少年克服暴力倾向？",
        "如何通过立法保护暴力受害者？",
        "暴力行为背后的社会根源是什么？",
        "暴力的预防措施应如何设计？"
    ];

    const [positions, setPositions] = useState<any[]>([]);

    // 设置每个问题的随机位置
    useEffect(() => {
        const randomPositions = questionTitles.map(() => ({
            top: `${Math.random() * 80}%`, // 随机生成 top 值
        }));
        setPositions(randomPositions);
    }, []);

    useEffect(() => {
        gsap.to(elementRef.current, {
            scale:0.8,
            borderRadius: "2rem",
            scrollTrigger: {
                start: 'top',
                end: 'bottom',
                scrub: true,
            },
        });
    }, []);

    return (
        <>
            <div className="container" ref={elementRef} >
                <div className="margin">
                    <div className="televisionBorder">
                        <div className="television" >
                            {questionTitles.map((title, index) => (
                                <div
                                    key={index}
                                    className="question-txt"
                                    style={{
                                        top: positions[index]?.top,
                                        animation: `scrollLeft 10s linear infinite`,
                                        marginRight: '50px', // 使文本之间有间距
                                        animationDelay: `${Math.random() * 5}s`,
                                    }}
                                >
                                    {title}
                                </div>
                            ))}
                        </div>
                    </div>
                    <div className="televisionBar televisionBarF"></div>
                    <div className="televisionBar televisionBarS"></div>
                </div>
                <p>{translations.website.questions}</p>
            </div>
        </>
    );
}
